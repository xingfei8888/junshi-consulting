<!DOCTYPE html>
<html>
<head>
    <title>ç½‘ç«™åŠŸèƒ½å…¨é¢æµ‹è¯•</title>
    <style>
        body { font-family: Arial; padding: 20px; max-width: 1000px; margin: 0 auto; }
        .section { margin: 30px 0; padding: 25px; border: 1px solid #ddd; border-radius: 10px; background: #f9f9f9; }
        .success { color: #28a745; }
        .error { color: #dc3545; }
        button { padding: 10px 20px; margin: 5px; background: #4fc3f7; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; }
        button:hover { background: #03a9f4; }
        .result { margin-top: 15px; padding: 15px; border-radius: 5px; background: white; }
        .test-item { margin: 10px 0; padding: 10px; border-left: 4px solid #ddd; }
        .pass { border-left-color: #28a745; }
        .fail { border-left-color: #dc3545; }
        h1 { color: #1a237e; }
        h2 { color: #283593; border-bottom: 2px solid #4fc3f7; padding-bottom: 10px; }
    </style>
</head>
<body>
    <h1>å¤§è¿å›å®ç®¡ç†å’¨è¯¢ç½‘ç«™å…¨é¢åŠŸèƒ½æµ‹è¯•</h1>
    <p>æ­¤é¡µé¢ç”¨äºå…¨é¢æµ‹è¯•ç½‘ç«™æ‰€æœ‰åŠŸèƒ½å’Œé“¾æ¥çš„æ­£å¸¸å·¥ä½œçŠ¶æ€ã€‚</p>
    
    <div class="section">
        <h2>ğŸ”— é¡µé¢é“¾æ¥æµ‹è¯•</h2>
        <p>æµ‹è¯•æ‰€æœ‰æ ¸å¿ƒé¡µé¢çš„å¯è®¿é—®æ€§ï¼š</p>
        <div id="pageTests"></div>
        <button onclick="runPageTests()">å¼€å§‹é¡µé¢é“¾æ¥æµ‹è¯•</button>
        <div id="pageResults" class="result"></div>
    </div>
    
    <div class="section">
        <h2>ğŸ”§ åŠŸèƒ½æ¨¡å—æµ‹è¯•</h2>
        <div id="functionTests">
            <div class="test-item">
                <button onclick="testCRM()">æµ‹è¯•CRMç³»ç»Ÿç™»å½•æµç¨‹</button>
                <span id="crmResult"></span>
            </div>
            <div class="test-item">
                <button onclick="testForm()">æµ‹è¯•å’¨è¯¢è¡¨å•åŠŸèƒ½</button>
                <span id="formResult"></span>
            </div>
            <div class="test-item">
                <button onclick="testNavigation()">æµ‹è¯•ç½‘ç«™å¯¼èˆª</button>
                <span id="navResult"></span>
            </div>
            <div class="test-item">
                <button onclick="testDownloads()">æµ‹è¯•å·¥å…·ä¸‹è½½åŠŸèƒ½</button>
                <span id="downloadResult"></span>
            </div>
        </div>
    </div>
    
    <div class="section">
        <h2>ğŸ“Š ç»¼åˆçŠ¶æ€æŠ¥å‘Š</h2>
        <div id="statusReport">
            <p>ç‚¹å‡»ä»¥ä¸‹æŒ‰é’®ç”Ÿæˆç»¼åˆçŠ¶æ€æŠ¥å‘Šï¼š</p>
            <button onclick="generateReport()">ç”Ÿæˆç»¼åˆçŠ¶æ€æŠ¥å‘Š</button>
            <div id="reportOutput" class="result"></div>
        </div>
    </div>
    
    <div class="section">
        <h2>ğŸš€ å¿«é€Ÿè®¿é—®é“¾æ¥</h2>
        <p>ä»¥ä¸‹æ˜¯ç½‘ç«™æ‰€æœ‰æ ¸å¿ƒé¡µé¢çš„å¿«é€Ÿè®¿é—®é“¾æ¥ï¼š</p>
        <div id="quickLinks"></div>
    </div>
    
    <script>
        // æ ¸å¿ƒé¡µé¢åˆ—è¡¨
        const corePages = [
            { name: 'é¦–é¡µ', url: 'index.html' },
            { name: 'æœåŠ¡é¡¹ç›®', url: 'services.html' },
            { name: 'å…³äºæˆ‘ä»¬', url: 'about.html' },
            { name: 'äººæ‰ç®¡ç†', url: 'talent-management.html' },
            { name: 'ç»„ç»‡æ¶æ„', url: 'organization-structure.html' },
            { name: 'æµç¨‹ä¼˜åŒ–', url: 'process-optimization.html' },
            { name: 'é¢†å¯¼åŠ›å‘å±•', url: 'leadership-development.html' },
            { name: 'é”€å”®åŸ¹è®­', url: 'sales-training.html' },
            { name: 'AIæˆ˜ç•¥', url: 'ai-strategy.html' },
            { name: 'CRMç™»å½•', url: 'crm-login.html' },
            { name: 'CRMä»ªè¡¨æ¿', url: 'crm-proper.html' },
            { name: 'å®¢æˆ·ç®¡ç†', url: 'customers.html' },
            { name: 'é”€å”®ç®¡é“', url: 'opportunities.html' },
            { name: 'ä»»åŠ¡ç®¡ç†', url: 'tasks.html' },
            { name: 'æŠ¥è¡¨åˆ†æ', url: 'reports.html' }
        ];
        
        // åˆå§‹åŒ–å¿«é€Ÿé“¾æ¥
        function initQuickLinks() {
            const container = document.getElementById('quickLinks');
            corePages.forEach(page => {
                const link = document.createElement('a');
                link.href = page.url;
                link.textContent = page.name;
                link.target = '_blank';
                link.style.cssText = 'display:inline-block; margin:5px 10px 5px 0; padding:8px 15px; background:#e9ecef; color:#1a237e; text-decoration:none; border-radius:4px;';
                container.appendChild(link);
            });
        }
        
        // é¡µé¢é“¾æ¥æµ‹è¯•
        async function runPageTests() {
            const resultsDiv = document.getElementById('pageResults');
            resultsDiv.innerHTML = '<p>æµ‹è¯•ä¸­...è¯·ç¨å€™</p>';
            
            let passed = 0;
            let failed = 0;
            let output = '';
            
            for (const page of corePages) {
                try {
                    const response = await fetch(page.url, { method: 'HEAD' });
                    if (response.ok) {
                        output += `<div class="test-item pass">âœ… ${page.name} (${page.url}) - çŠ¶æ€: ${response.status}</div>`;
                        passed++;
                    } else {
                        output += `<div class="test-item fail">âŒ ${page.name} (${page.url}) - çŠ¶æ€: ${response.status}</div>`;
                        failed++;
                    }
                } catch (error) {
                    output += `<div class="test-item fail">âŒ ${page.name} (${page.url}) - é”™è¯¯: ${error.message}</div>`;
                    failed++;
                }
            }
            
            const summary = `<h3>æµ‹è¯•å®Œæˆ</h3><p>æ€»è®¡: ${corePages.length} ä¸ªé¡µé¢ | é€šè¿‡: <span class="success">${passed}</span> | å¤±è´¥: <span class="error">${failed}</span></p>`;
            resultsDiv.innerHTML = summary + output;
        }
        
        // æµ‹è¯•CRMç³»ç»Ÿ
        async function testCRM() {
            const resultSpan = document.getElementById('crmResult');
            resultSpan.innerHTML = 'æµ‹è¯•ä¸­...';
            
            try {
                // æµ‹è¯•ç™»å½•é¡µé¢
                const loginResponse = await fetch('crm-login.html');
                if (!loginResponse.ok) {
                    resultSpan.innerHTML = '<span class="error">âŒ CRMç™»å½•é¡µé¢æ— æ³•è®¿é—®</span>';
                    return;
                }
                
                // æµ‹è¯•é»˜è®¤è´¦æˆ·éªŒè¯ï¼ˆå‰ç«¯æ¨¡æ‹Ÿï¼‰
                const validAccounts = {
                    'admin': '123456',
                    'manager': 'junshi2026',
                    'sales': 'sales123'
                };
                
                const testAccount = 'admin';
                const testPassword = '123456';
                
                if (validAccounts[testAccount] === testPassword) {
                    resultSpan.innerHTML = '<span class="success">âœ… CRMç™»å½•åŠŸèƒ½æ­£å¸¸ (é»˜è®¤è´¦æˆ·éªŒè¯é€šè¿‡)</span>';
                } else {
                    resultSpan.innerHTML = '<span class="error">âŒ é»˜è®¤è´¦æˆ·éªŒè¯å¤±è´¥</span>';
                }
            } catch (error) {
                resultSpan.innerHTML = `<span class="error">âŒ CRMæµ‹è¯•å¤±è´¥: ${error.message}</span>`;
            }
        }
        
        // æµ‹è¯•å’¨è¯¢è¡¨å•
        async function testForm() {
            const resultSpan = document.getElementById('formResult');
            resultSpan.innerHTML = 'æµ‹è¯•ä¸­...';
            
            try {
                const response = await fetch('index.html');
                const html = await response.text();
                
                // æ£€æŸ¥è¡¨å•æ˜¯å¦å­˜åœ¨
                if (html.includes('contactForm')) {
                    // æ£€æŸ¥å¿…è¦å­—æ®µ
                    const requiredFields = ['name', 'company', 'phone', 'message'];
                    let allFieldsExist = true;
                    
                    for (const field of requiredFields) {
                        if (!html.includes(`id="${field}"`)) {
                            allFieldsExist = false;
                            break;
                        }
                    }
                    
                    if (allFieldsExist) {
                        resultSpan.innerHTML = '<span class="success">âœ… å’¨è¯¢è¡¨å•åŠŸèƒ½å®Œæ•´ (æ‰€æœ‰å¿…è¦å­—æ®µéƒ½å­˜åœ¨)</span>';
                    } else {
                        resultSpan.innerHTML = '<span class="error">âŒ å’¨è¯¢è¡¨å•ç¼ºå°‘å¿…è¦å­—æ®µ</span>';
                    }
                } else {
                    resultSpan.innerHTML = '<span class="error">âŒ å’¨è¯¢è¡¨å•ä¸å­˜åœ¨</span>';
                }
            } catch (error) {
                resultSpan.innerHTML = `<span class="error">âŒ è¡¨å•æµ‹è¯•å¤±è´¥: ${error.message}</span>`;
            }
        }
        
        // æµ‹è¯•ç½‘ç«™å¯¼èˆª
        async function testNavigation() {
            const resultSpan = document.getElementById('navResult');
            resultSpan.innerHTML = 'æµ‹è¯•ä¸­...';
            
            try {
                // æµ‹è¯•å‡ ä¸ªå…³é”®å¯¼èˆªé“¾æ¥
                const testLinks = [
                    { from: 'é¦–é¡µâ†’æœåŠ¡', to: 'services.html' },
                    { from: 'æœåŠ¡â†’äººæ‰ç®¡ç†', to: 'talent-management.html' },
                    { from: 'æœåŠ¡â†’ç»„ç»‡æ¶æ„', to: 'organization-structure.html' },
                    { from: 'é¦–é¡µâ†’CRM', to: 'crm-login.html' }
                ];
                
                let allPassed = true;
                let results = [];
                
                for (const link of testLinks) {
                    const response = await fetch(link.to, { method: 'HEAD' });
                    if (response.ok) {
                        results.push(`âœ… ${link.from}: æ­£å¸¸`);
                    } else {
                        results.push(`âŒ ${link.from}: å¤±è´¥ (${response.status})`);
                        allPassed = false;
                    }
                }
                
                if (allPassed) {
                    resultSpan.innerHTML = `<span class="success">âœ… ç½‘ç«™å¯¼èˆªåŠŸèƒ½æ­£å¸¸<br>${results.join('<br>')}</span>`;
                } else {
                    resultSpan.innerHTML = `<span class="error">âŒ ç½‘ç«™å¯¼èˆªå­˜åœ¨é—®é¢˜<br>${results.join('<br>')}</span>`;
                }
            } catch (error) {
                resultSpan.innerHTML = `<span class="error">âŒ å¯¼èˆªæµ‹è¯•å¤±è´¥: ${error.message}</span>`;
            }
        }
        
        // æµ‹è¯•å·¥å…·ä¸‹è½½åŠŸèƒ½
        async function testDownloads() {
            const resultSpan = document.getElementById('downloadResult');
            resultSpan.innerHTML = 'æµ‹è¯•ä¸­...';
            
            try {
                // æ£€æŸ¥å‡ ä¸ªæœåŠ¡é¡µé¢æ˜¯å¦æœ‰ä¸‹è½½åŠŸèƒ½
                const testPages = ['talent-management.html', 'organization-structure.html', 'process-optimization.html'];
                let downloadCount = 0;
                
                for (const page of testPages) {
                    const response = await fetch(page);
                    if (response.ok) {
                        const html = await response.text();
                        if (html.includes('download-btn') || html.includes('ä¸‹è½½') || html.includes('Download')) {
                            downloadCount++;
                        }
                    }
                }
                
                if (downloadCount > 0) {
                    resultSpan.innerHTML = `<span class="success">âœ… å·¥å…·ä¸‹è½½åŠŸèƒ½å­˜åœ¨ (åœ¨ ${downloadCount} ä¸ªé¡µé¢ä¸­æ£€æµ‹åˆ°)</span>`;
                } else {
                    resultSpan.innerHTML = '<span class="error">âŒ æœªæ£€æµ‹åˆ°å·¥å…·ä¸‹è½½åŠŸèƒ½</span>';
                }
            } catch (error) {
                resultSpan.innerHTML = `<span class="error">âŒ ä¸‹è½½åŠŸèƒ½æµ‹è¯•å¤±è´¥: ${error.message}</span>`;
            }
        }
        
        // ç”Ÿæˆç»¼åˆæŠ¥å‘Š
        async function generateReport() {
            const outputDiv = document.getElementById('reportOutput');
            outputDiv.innerHTML = '<p>ç”ŸæˆæŠ¥å‘Šä¸­...è¯·ç¨å€™</p>';
            
            let report = '<h3>ç½‘ç«™åŠŸèƒ½ç»¼åˆæµ‹è¯•æŠ¥å‘Š</h3>';
            report += `<p>ç”Ÿæˆæ—¶é—´: ${new Date().toLocaleString('zh-CN')}</p>`;
            report += '<hr>';
            
            // æµ‹è¯•é¡µé¢å¯è®¿é—®æ€§
            report += '<h4>ğŸ“„ é¡µé¢å¯è®¿é—®æ€§æµ‹è¯•</h4>';
            let accessiblePages = 0;
            
            for (const page of corePages) {
                try {
                    const response = await fetch(page.url, { method: 'HEAD' });
                    if (response.ok) {
                        report += `<div class="test-item pass">âœ… ${page.name}: å¯è®¿é—® (${response.status})</div>`;
                        accessiblePages++;
                    } else {
                        report += `<div class="test-item fail">âŒ ${page.name}: ä¸å¯è®¿é—® (${response.status})</div>`;
                    }
                } catch (error) {
                    report += `<div class="test-item fail">âŒ ${page.name}: é”™è¯¯ (${error.message})</div>`;
                }
            }
            
            report += `<p>é¡µé¢å¯è®¿é—®ç‡: ${accessiblePages}/${corePages.length} (${((accessiblePages/corePages.length)*100).toFixed(1)}%)</p>`;
            report += '<hr>';
            
            // æµ‹è¯•å…³é”®åŠŸèƒ½
            report += '<h4>ğŸ”§ å…³é”®åŠŸèƒ½æµ‹è¯•</h4>';
            
            // CRMåŠŸèƒ½
            try {
                const loginResponse = await fetch('crm-login.html');
                if (loginResponse.ok) {
                    report += '<div class="test-item pass">âœ… CRMç™»å½•é¡µé¢: å¯è®¿é—®</div>';
                } else {
                    report += '<div class="test-item fail">âŒ CRMç™»å½•é¡µé¢: ä¸å¯è®¿é—®</div>';
                }
            } catch (error) {
                report += `<div class="test-item fail">âŒ CRMç™»å½•é¡µé¢: é”™è¯¯ (${error.message})</div>`;
            }
            
            // å’¨è¯¢è¡¨å•
            try {
                const indexResponse = await fetch('index.html');
                const indexHtml = await indexResponse.text();
                if (indexHtml.includes('contactForm')) {
                    report += '<div class="test-item pass">âœ… å’¨è¯¢è¡¨å•: å­˜åœ¨</div>';
                } else {
                    report += '<div class="test-item fail">âŒ å’¨è¯¢è¡¨å•: ä¸å­˜åœ¨</div>';
                }
            } catch (error) {
                report += `<div class="test-item fail">âŒ å’¨è¯¢è¡¨å•æµ‹è¯•: é”™è¯¯ (${error.message})</div>`;
            }
            
            report += '<hr>';
            report += '<h4>ğŸ“Š æ€»ä½“è¯„ä¼°</h4>';
            
            const score = (accessiblePages / corePages.length) * 100;
            if (score >= 90) {
                report += '<p class="success">âœ… ä¼˜ç§€ - ç½‘ç«™åŠŸèƒ½åŸºæœ¬å®Œå¥½ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨</p>';
            } else if (score >= 70) {
                report += '<p style="color:#ffc107;">âš ï¸ è‰¯å¥½ - ç½‘ç«™ä¸»è¦åŠŸèƒ½æ­£å¸¸ï¼Œéƒ¨åˆ†é¡µé¢éœ€è¦ä¿®å¤</p>';
            } else if (score >= 50) {
                report += '<p style="color:#fd7e14;">âš ï¸ ä¸€èˆ¬ - ç½‘ç«™åŠŸèƒ½å­˜åœ¨é—®é¢˜ï¼Œéœ€è¦å°½å¿«ä¿®å¤</p>';
            } else {
                report += '<p class="error">âŒ è¾ƒå·® - ç½‘ç«™åŠŸèƒ½ä¸¥é‡é—®é¢˜ï¼Œéœ€è¦å…¨é¢ä¿®å¤</p>';
            }
            
            report += `<p>ç»¼åˆè¯„åˆ†: ${score.toFixed(1)}/100</p>`;
            report += '<p>å»ºè®®: æ ¹æ®ä¸Šè¿°æµ‹è¯•ç»“æœï¼Œä¼˜å…ˆä¿®å¤æ ‡è®°ä¸ºâŒçš„é—®é¢˜ã€‚</p>';
            
            outputDiv.innerHTML = report;
        }
        
        // é¡µé¢åŠ è½½ååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initQuickLinks);
    </script>
</body>
</html>