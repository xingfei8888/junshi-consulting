<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŠ¥è¡¨åˆ†æ - å›å®CRM</title>
    <style>
        body { font-family: 'Microsoft YaHei', sans-serif; margin: 0; padding: 0; background: #f8f9fa; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        .crm-header { 
            background: linear-gradient(135deg, #1a237e 0%, #283593 100%); 
            color: white; padding: 15px 20px; 
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .logo { font-size: 24px; font-weight: bold; }
        .logo span { color: #4fc3f7; }
        .nav { display: flex; gap: 20px; }
        .nav a { color: white; text-decoration: none; padding: 5px 0; position: relative; }
        .nav a:hover::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 100%; height: 2px; background: #4fc3f7; }
        .report-card { 
            background: white; border-radius: 8px; padding: 20px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px;
        }
        .chart-container {
            background: white; border-radius: 8px; padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .stat-card {
            background: white; border-radius: 8px; padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }
        .stat-value {
            font-size: 28px; font-weight: bold; margin: 10px 0;
        }
        .stat-label {
            color: #666; font-size: 14px;
        }
        .filters {
            background: white; border-radius: 8px; padding: 15px;
            margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex; gap: 15px; align-items: center;
        }
        .filter-select {
            padding: 8px 12px; border: 1px solid #ddd;
            border-radius: 4px; font-size: 14px;
        }
        .table {
            width: 100%; border-collapse: collapse;
            background: white; border-radius: 8px;
            overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .table th { background: #f1f8ff; padding: 15px; text-align: left; }
        .table td { padding: 12px 15px; border-bottom: 1px solid #eee; }
        .export-btn {
            background: #27ae60; color: white; padding: 8px 16px;
            border: none; border-radius: 4px; cursor: pointer;
            font-size: 14px; display: flex; align-items: center; gap: 6px;
        }
        .badge {
            display: inline-block; padding: 2px 8px; border-radius: 12px;
            font-size: 12px; font-weight: 500;
        }
        .badge-success { background: #d4edda; color: #155724; }
        .badge-warning { background: #fff3cd; color: #856404; }
        .badge-danger { background: #f8d7da; color: #721c24; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header class="crm-header">
        <div class="logo">å›å®<span>CRM</span></div>
        <nav class="nav">
            <a href="crm.html">ä»ªè¡¨æ¿</a>
            <a href="customers.html">å®¢æˆ·ç®¡ç†</a>
            <a href="opportunities.html">é”€å”®ç®¡é“</a>
            <a href="tasks.html">ä»»åŠ¡ç®¡ç†</a>
            <a href="reports.html" style="color: #4fc3f7;">æŠ¥è¡¨åˆ†æ</a>
            <a href="index.html">è¿”å›å®˜ç½‘</a>
        </nav>
    </header>
    
    <div class="container">
        <h1 style="color: #2c3e50; margin-bottom: 20px; font-size: 28px;">æŠ¥è¡¨åˆ†æä¸­å¿ƒ</h1>
        
        <!-- ç­›é€‰å™¨ -->
        <div class="filters">
            <div>
                <span style="color: #666; margin-right: 8px;">æ—¶é—´èŒƒå›´ï¼š</span>
                <select class="filter-select" id="timeRange" onchange="loadReports()">
                    <option value="week">æœ¬å‘¨</option>
                    <option value="month" selected>æœ¬æœˆ</option>
                    <option value="quarter">æœ¬å­£åº¦</option>
                    <option value="year">æœ¬å¹´</option>
                    <option value="custom">è‡ªå®šä¹‰</option>
                </select>
            </div>
            <div>
                <span style="color: #666; margin-right: 8px;">æŠ¥è¡¨ç±»å‹ï¼š</span>
                <select class="filter-select" id="reportType" onchange="loadReports()">
                    <option value="sales">é”€å”®ä¸šç»©</option>
                    <option value="customers">å®¢æˆ·åˆ†æ</option>
                    <option value="activities">æ´»åŠ¨åˆ†æ</option>
                    <option value="tasks">ä»»åŠ¡æ•ˆç‡</option>
                </select>
            </div>
            <button class="export-btn" onclick="exportReport()">
                ğŸ“Š å¯¼å‡ºæŠ¥è¡¨
            </button>
        </div>
        
        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="stats-grid" id="statCards">
            <!-- åŠ¨æ€åŠ è½½ç»Ÿè®¡å¡ç‰‡ -->
        </div>
        
        <!-- é”€å”®ä¸šç»©å›¾è¡¨ -->
        <div class="chart-container">
            <h3 style="color: #2c3e50; margin-bottom: 20px;">é”€å”®ä¸šç»©è¶‹åŠ¿</h3>
            <div style="height: 300px;">
                <canvas id="salesChart"></canvas>
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; margin-bottom: 20px;">
            <!-- å®¢æˆ·æ¥æºåˆ†å¸ƒ -->
            <div class="chart-container">
                <h3 style="color: #2c3e50; margin-bottom: 20px;">å®¢æˆ·æ¥æºåˆ†å¸ƒ</h3>
                <div style="height: 250px;">
                    <canvas id="sourceChart"></canvas>
                </div>
            </div>
            
            <!-- é”€å”®é˜¶æ®µåˆ†å¸ƒ -->
            <div class="chart-container">
                <h3 style="color: #2c3e50; margin-bottom: 20px;">é”€å”®é˜¶æ®µåˆ†å¸ƒ</h3>
                <div style="height: 250px;">
                    <canvas id="stageChart"></canvas>
                </div>
            </div>
        </div>
        
        <!-- æ•°æ®è¡¨æ ¼ -->
        <div class="report-card">
            <h3 style="color: #2c3e50; margin-bottom: 20px;">è¯¦ç»†æ•°æ®</h3>
            <table class="table" id="reportTable">
                <thead>
                    <tr>
                        <th>é¡¹ç›®</th>
                        <th>æ•°é‡</th>
                        <th>é‡‘é¢</th>
                        <th>å¢é•¿ç‡</th>
                        <th>è¶‹åŠ¿</th>
                    </tr>
                </thead>
                <tbody id="reportTableBody">
                    <!-- åŠ¨æ€åŠ è½½è¡¨æ ¼æ•°æ® -->
                </tbody>
            </table>
        </div>
        
        <!-- å…³é”®æŒ‡æ ‡ -->
        <div class="report-card">
            <h3 style="color: #2c3e50; margin-bottom: 20px;">å…³é”®ä¸šåŠ¡æŒ‡æ ‡</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;" id="kpiMetrics">
                <!-- åŠ¨æ€åŠ è½½KPIæŒ‡æ ‡ -->
            </div>
        </div>
    </div>
    
    <script>
        // æŠ¥è¡¨ç®¡ç†å™¨
        class ReportManager {
            constructor() {
                this.salesChart = null;
                this.sourceChart = null;
                this.stageChart = null;
            }
            
            // è·å–æŠ¥å‘Šæ•°æ®
            getReportData(timeRange = 'month') {
                // è·å–å„æ¨¡å—æ•°æ®
                const customers = this.getCustomersFromStorage();
                const opportunities = this.getOpportunitiesFromStorage();
                const tasks = this.getTasksFromStorage();
                
                // æ ¹æ®æ—¶é—´èŒƒå›´ç­›é€‰æ•°æ®
                const filteredData = this.filterByTimeRange({ customers, opportunities, tasks }, timeRange);
                
                return {
                    ...filteredData,
                    timeRange: timeRange,
                    generatedAt: new Date().toISOString()
                };
            }
            
            getCustomersFromStorage() {
                const data = localStorage.getItem('junshi_crm_customers');
                return data ? JSON.parse(data) : [];
            }
            
            getOpportunitiesFromStorage() {
                const data = localStorage.getItem('junshi_crm_opportunities');
                return data ? JSON.parse(data) : [];
            }
            
            getTasksFromStorage() {
                const data = localStorage.getItem('junshi_crm_tasks');
                return data ? JSON.parse(data) : [];
            }
            
            filterByTimeRange(data, timeRange) {
                const now = new Date();
                let startDate = new Date();
                
                switch(timeRange) {
                    case 'week':
                        startDate.setDate(now.getDate() - 7);
                        break;
                    case 'month':
                        startDate.setMonth(now.getMonth() - 1);
                        break;
                    case 'quarter':
                        startDate.setMonth(now.getMonth() - 3);
                        break;
                    case 'year':
                        startDate.setFullYear(now.getFullYear() - 1);
                        break;
                    default:
                        startDate = new Date(0); // æ‰€æœ‰æ•°æ®
                }
                
                // ç­›é€‰å®¢æˆ·
                const filteredCustomers = data.customers.filter(customer => {
                    const created = new Date(customer.createdAt);
                    return created >= startDate;
                });
                
                // ç­›é€‰å•†æœº
                const filteredOpportunities = data.opportunities.filter(opp => {
                    const created = new Date(opp.createdAt);
                    return created >= startDate;
                });
                
                // ç­›é€‰ä»»åŠ¡
                const filteredTasks = data.tasks.filter(task => {
                    const created = new Date(task.createdAt);
                    return created >= startDate;
                });
                
                return {
                    customers: filteredCustomers,
                    opportunities: filteredOpportunities,
                    tasks: filteredTasks
                };
            }
            
            // è®¡ç®—ç»Ÿè®¡æŒ‡æ ‡
            calculateMetrics(data) {
                const { customers, opportunities, tasks } = data;
                
                // å®¢æˆ·ç»Ÿè®¡
                const totalCustomers = customers.length;
                const newCustomers = customers.filter(c => c.status === 'new').length;
                const contactedCustomers = customers.filter(c => c.status === 'contacted').length;
                const closedCustomers = customers.filter(c => c.status === 'deal').length;
                
                // å•†æœºç»Ÿè®¡
                const totalOpportunities = opportunities.length;
                const totalAmount = opportunities.reduce((sum, opp) => sum + (opp.amount || 0), 0);
                const weightedForecast = opportunities.reduce((sum, opp) => 
                    sum + (opp.amount || 0) * (opp.probability || 0) / 100, 0);
                
                // ä»»åŠ¡ç»Ÿè®¡
                const totalTasks = tasks.length;
                const completedTasks = tasks.filter(t => t.status === 'completed').length;
                const pendingTasks = tasks.filter(t => t.status === 'pending').length;
                const completionRate = totalTasks > 0 ? (completedTasks / totalTasks * 100) : 0;
                
                // å®¢æˆ·æ¥æºåˆ†å¸ƒ
                const sourceDistribution = {};
                customers.forEach(customer => {
                    const source = customer.source || 'å…¶ä»–';
                    sourceDistribution[source] = (sourceDistribution[source] || 0) + 1;
                });
                
                // é”€å”®é˜¶æ®µåˆ†å¸ƒ
                const stageDistribution = {
                    'çº¿ç´¢é˜¶æ®µ': 0, 'éœ€æ±‚ç¡®è®¤': 0, 'æ–¹æ¡ˆåˆ¶å®š': 0,
                    'æ–¹æ¡ˆæ¼”ç¤º': 0, 'å•†åŠ¡è°ˆåˆ¤': 0, 'åˆåŒç­¾è®¢': 0, 'å·²æˆäº¤': 0
                };
                
                opportunities.forEach(opp => {
                    let stageName = 'çº¿ç´¢é˜¶æ®µ';
                    switch(opp.stage) {
                        case 1: stageName = 'çº¿ç´¢é˜¶æ®µ'; break;
                        case 2: stageName = 'éœ€æ±‚ç¡®è®¤'; break;
                        case 3: stageName = 'æ–¹æ¡ˆåˆ¶å®š'; break;
                        case 4: stageName = 'æ–¹æ¡ˆæ¼”ç¤º'; break;
                        case 5: stageName = 'å•†åŠ¡è°ˆåˆ¤'; break;
                        case 6: stageName = 'åˆåŒç­¾è®¢'; break;
                        case 7: stageName = 'å·²æˆäº¤'; break;
                    }
                    stageDistribution[stageName] = (stageDistribution[stageName] || 0) + 1;
                });
                
                return {
                    // å®¢æˆ·æŒ‡æ ‡
                    totalCustomers,
                    newCustomers,
                    contactedCustomers,
                    closedCustomers,
                    customerGrowthRate: totalCustomers > 0 ? ((newCustomers / totalCustomers) * 100) : 0,
                    
                    // é”€å”®æŒ‡æ ‡
                    totalOpportunities,
                    totalAmount,
                    weightedForecast,
                    avgDealSize: totalOpportunities > 0 ? (totalAmount / totalOpportunities) : 0,
                    winRate: totalOpportunities > 0 ? ((stageDistribution['å·²æˆäº¤'] / totalOpportunities) * 100) : 0,
                    
                    // ä»»åŠ¡æŒ‡æ ‡
                    totalTasks,
                    completedTasks,
                    pendingTasks,
                    completionRate,
                    
                    // åˆ†å¸ƒæ•°æ®
                    sourceDistribution,
                    stageDistribution
                };
            }
            
            // ç”Ÿæˆå›¾è¡¨
            generateCharts(metrics, data) {
                // é”€æ¯ç°æœ‰å›¾è¡¨
                if (this.salesChart) this.salesChart.destroy();
                if (this.sourceChart) this.sourceChart.destroy();
                if (this.stageChart) this.stageChart.destroy();
                
                // é”€å”®ä¸šç»©è¶‹åŠ¿å›¾
                const salesCtx = document.getElementById('salesChart').getContext('2d');
                this.salesChart = new Chart(salesCtx, {
                    type: 'line',
                    data: {
                        labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ'],
                        datasets: [{
                            label: 'é¢„è®¡æ”¶å…¥',
                            data: [30000, 45000, 28000, 52000, 48000, 65000, 70000],
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'å®é™…æ”¶å…¥',
                            data: [28000, 42000, 25000, 48000, 45000, 60000, 68000],
                            borderColor: '#27ae60',
                            backgroundColor: 'rgba(39, 174, 96, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
                
                // å®¢æˆ·æ¥æºåˆ†å¸ƒå›¾
                const sourceCtx = document.getElementById('sourceChart').getContext('2d');
                const sourceData = Object.entries(metrics.sourceDistribution);
                this.sourceChart = new Chart(sourceCtx, {
                    type: 'doughnut',
                    data: {
                        labels: sourceData.map(([source]) => source),
                        datasets: [{
                            data: sourceData.map(([, count]) => count),
                            backgroundColor: [
                                '#3498db', '#2ecc71', '#e74c3c', '#f39c12',
                                '#9b59b6', '#1abc9c', '#34495e'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
                
                // é”€å”®é˜¶æ®µåˆ†å¸ƒå›¾
                const stageCtx = document.getElementById('stageChart').getContext('2d');
                const stageData = Object.entries(metrics.stageDistribution);
                this.stageChart = new Chart(stageCtx, {
                    type: 'bar',
                    data: {
                        labels: stageData.map(([stage]) => stage),
                        datasets: [{
                            label: 'å•†æœºæ•°é‡',
                            data: stageData.map(([, count]) => count),
                            backgroundColor: [
                                '#e74c3c', '#e67e22', '#f39c12', '#3498db',
                                '#2ecc71', '#9b59b6', '#34495e'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
            
            // å¯¼å‡ºæŠ¥è¡¨
            exportReport(metrics, data) {
                const reportData = {
                    metrics: metrics,
                    data: data,
                    exportDate: new Date().toISOString()
                };
                
                const jsonStr = JSON.stringify(reportData, null, 2);
                const blob = new Blob([jsonStr], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `junshi-crm-report-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                alert('æŠ¥è¡¨å¯¼å‡ºæˆåŠŸï¼');
            }
        }
        
        const reportManager = new ReportManager();
        
        // åŠ è½½æŠ¥è¡¨
        function loadReports() {
            const timeRange = document.getElementById('timeRange').value;
            const reportType = document.getElementById('reportType').value;
            
            // è·å–æ•°æ®
            const reportData = reportManager.getReportData(timeRange);
            const metrics = reportManager.calculateMetrics(reportData);
            
            // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
            updateStatCards(metrics);
            
            // ç”Ÿæˆå›¾è¡¨
            reportManager.generateCharts(metrics, reportData);
            
            // æ›´æ–°è¡¨æ ¼æ•°æ®
            updateReportTable(metrics, reportType);
            
            // æ›´æ–°KPIæŒ‡æ ‡
            updateKPIMetrics(metrics);
        }
        
        function updateStatCards(metrics) {
            const statCards = [
                {
                    label: 'æ€»å®¢æˆ·æ•°',
                    value: metrics.totalCustomers,
                    color: '#3498db',
                    icon: 'ğŸ‘¥'
                },
                {
                    label: 'æ–°å¢å®¢æˆ·',
                    value: metrics.newCustomers,
                    color: '#2ecc71',
                    icon: 'ğŸ†•'
                },
                {
                    label: 'é¢„è®¡æ”¶å…¥',
                    value: `Â¥${metrics.weightedForecast.toLocaleString(undefined, {maximumFractionDigits: 0})}`,
                    color: '#f39c12',
                    icon: 'ğŸ’°'
                },
                {
                    label: 'ä»»åŠ¡å®Œæˆç‡',
                    value: `${metrics.completionRate.toFixed(1)}%`,
                    color: '#9b59b6',
                    icon: 'âœ…'
                }
            ];
            
            const container = document.getElementById('statCards');
            container.innerHTML = statCards.map(stat => `
                <div class="stat-card">
                    <div style="font-size: 24px;">${stat.icon}</div>
                    <div class="stat-value" style="color: ${stat.color};">${stat.value}</div>
                    <div class="stat-label">${stat.label}</div>
                </div>
            `).join('');
        }
        
        function updateReportTable(metrics, reportType) {
            let tableData = [];
            
            switch(reportType) {
                case 'sales':
                    tableData = [
                        ['æ€»å•†æœºæ•°', metrics.totalOpportunities, `Â¥${metrics.totalAmount.toLocaleString()}`, '--', getTrendBadge(15)],
                        ['åŠ æƒé¢„æµ‹', '--', `Â¥${metrics.weightedForecast.toLocaleString(undefined, {maximumFractionDigits: 0})}`, '+12%', getTrendBadge(12)],
                        ['å¹³å‡å•å€¼', '--', `Â¥${metrics.avgDealSize.toLocaleString(undefined, {maximumFractionDigits: 0})}`, '+8%', getTrendBadge(8)],
                        ['æˆäº¤ç‡', `${metrics.winRate.toFixed(1)}%`, '--', '+5%', getTrendBadge(5)]
                    ];
                    break;
                case 'customers':
                    tableData = [
                        ['æ–°å®¢æˆ·', metrics.newCustomers, '--', `${metrics.customerGrowthRate.toFixed(1)}%`, getTrendBadge(metrics.customerGrowthRate)],
                        ['å·²è”ç³»å®¢æˆ·', metrics.contactedCustomers, '--', '--', 'ğŸ“'],
                        ['å·²æˆäº¤å®¢æˆ·', metrics.closedCustomers, '--', '--', 'ğŸ¤'],
                        ['å®¢æˆ·æ€»æ•°', metrics.totalCustomers, '--', '--', 'ğŸ“ˆ']
                    ];
                    break;
                case 'tasks':
                    tableData = [
                        ['æ€»ä»»åŠ¡æ•°', metrics.totalTasks, '--', '--', 'ğŸ“‹'],
                        ['å·²å®Œæˆ', metrics.completedTasks, '--', `${metrics.completionRate.toFixed(1)}%`, getTrendBadge(metrics.completionRate)],
                        ['è¿›è¡Œä¸­', metrics.pendingTasks, '--', '--', 'â³'],
                        ['æ•ˆç‡å¾—åˆ†', `${((metrics.completedTasks / Math.max(metrics.totalTasks, 1)) * 100).toFixed(0)}`, '--', '--', 'âš¡']
                    ];
                    break;
            }
            
            const tbody = document.getElementById('reportTableBody');
            tbody.innerHTML = tableData.map(row => `
                <tr>
                    <td>${row[0]}</td>
                    <td>${row[1]}</td>
                    <td>${row[2]}</td>
                    <td>${row[3]}</td>
                    <td>${row[4]}</td>
                </tr>
            `).join('');
        }
        
        function updateKPIMetrics(metrics) {
            const kpiData = [
                { label: 'å®¢æˆ·å¢é•¿ç‡', value: `${metrics.customerGrowthRate.toFixed(1)}%`, target: '15%' },
                { label: 'é”€å”®è½¬åŒ–ç‡', value: `${metrics.winRate.toFixed(1)}%`, target: '25%' },
                { label: 'ä»»åŠ¡å®Œæˆç‡', value: `${metrics.completionRate.toFixed(1)}%`, target: '85%' },
                { label: 'å¹³å‡æˆäº¤å‘¨æœŸ', value: '45å¤©', target: '30å¤©' },
                { label: 'å®¢æˆ·æ»¡æ„åº¦', value: '92%', target: '90%' },
                { label: 'é”€å”®é¢„æµ‹å‡†ç¡®ç‡', value: '78%', target: '80%' }
            ];
            
            const container = document.getElementById('kpiMetrics');
            container.innerHTML = kpiData.map(kpi => `
                <div style="text-align: center; padding: 10px; background: #f8f9fa; border-radius: 6px;">
                    <div style="font-size: 12px; color: #666; margin-bottom: 5px;">${kpi.label}</div>
                    <div style="font-size: 20px; font-weight: bold; color: #2c3e50;">${kpi.value}</div>
                    <div style="font-size: 11px; color: #999; margin-top: 3px;">ç›®æ ‡: ${kpi.target}</div>
                </div>
            `).join('');
        }
        
        function getTrendBadge(value) {
            if (value > 10) return '<span class="badge badge-success">â†‘ ä¼˜ç§€</span>';
            if (value > 5) return '<span class="badge badge-warning">â†— è‰¯å¥½</span>';
            if (value > 0) return '<span class="badge">â†’ ç¨³å®š</span>';
            return '<span class="badge badge-danger">â†“ éœ€å…³æ³¨</span>';
        }
        
        function exportReport() {
            const timeRange = document.getElementById('timeRange').value;
            const reportData = reportManager.getReportData(timeRange);
            const metrics = reportManager.calculateMetrics(reportData);
            
            reportManager.exportReport(metrics, reportData);
        }
        
        // é¡µé¢åŠ è½½
        document.addEventListener('DOMContentLoaded', loadReports);
    </script>
</body>
</html>