<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»»åŠ¡ç®¡ç† - å›å®CRM</title>
    <style>
        body { font-family: 'Microsoft YaHei', sans-serif; margin: 0; padding: 0; background: #f8f9fa; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        .crm-header { 
            background: linear-gradient(135deg, #1a237e 0%, #283593 100%); 
            color: white; padding: 15px 20px; 
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .logo { font-size: 24px; font-weight: bold; }
        .logo span { color: #4fc3f7; }
        .nav { display: flex; gap: 20px; }
        .nav a { color: white; text-decoration: none; padding: 5px 0; position: relative; }
        .nav a:hover::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 100%; height: 2px; background: #4fc3f7; }
        .btn { 
            background: #4fc3f7; color: white; padding: 8px 16px; 
            border: none; border-radius: 4px; cursor: pointer;
            font-size: 14px; transition: background 0.3s;
        }
        .btn:hover { background: #03a9f4; }
        .btn-success { background: #27ae60; }
        .btn-success:hover { background: #219653; }
        .task-card { 
            background: white; border-radius: 8px; padding: 15px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 15px;
            border-left: 4px solid #4fc3f7;
        }
        .task-card.urgent { border-left-color: #e74c3c; }
        .task-card.high { border-left-color: #e67e22; }
        .task-card.medium { border-left-color: #f39c12; }
        .task-card.low { border-left-color: #27ae60; }
        .task-card.completed { border-left-color: #95a5a6; opacity: 0.7; }
        .task-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .task-title { font-weight: 500; font-size: 16px; color: #2c3e50; }
        .task-priority { font-size: 12px; padding: 2px 8px; border-radius: 12px; color: white; }
        .priority-urgent { background: #e74c3c; }
        .priority-high { background: #e67e22; }
        .priority-medium { background: #f39c12; }
        .priority-low { background: #27ae60; }
        .task-meta { display: flex; gap: 15px; margin-top: 10px; font-size: 12px; color: #666; }
        .calendar-day { 
            background: white; border-radius: 8px; padding: 10px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-bottom: 10px;
        }
        .calendar-day.today { background: #e3f2fd; }
    </style>
</head>
<body>
    <header class="crm-header">
        <div class="logo">å›å®<span>CRM</span></div>
        <nav class="nav">
            <a href="crm.html">ä»ªè¡¨æ¿</a>
            <a href="customers.html">å®¢æˆ·ç®¡ç†</a>
            <a href="opportunities.html">é”€å”®ç®¡é“</a>
            <a href="tasks.html" style="color: #4fc3f7;">ä»»åŠ¡ç®¡ç†</a>
            <a href="reports.html">æŠ¥è¡¨åˆ†æ</a>
            <a href="index.html">è¿”å›å®˜ç½‘</a>
        </nav>
    </header>
    
    <div class="container">
        <h1 style="color: #2c3e50; margin-bottom: 20px; font-size: 28px;">ä»»åŠ¡ç®¡ç†</h1>
        
        <div style="background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h3 style="margin: 0; color: #2c3e50;">ä»»åŠ¡æ€»è§ˆ</h3>
                    <p style="color: #666; margin-top: 5px;">ç®¡ç†æ‰€æœ‰å¾…åŠäº‹é¡¹å’Œè·Ÿè¿›ä»»åŠ¡</p>
                </div>
                <button class="btn btn-success" onclick="showAddTaskModal()">
                    <span style="font-size: 18px;">+</span>
                    æ–°å¢ä»»åŠ¡
                </button>
            </div>
            
            <div style="display: flex; gap: 20px; margin-top: 20px;">
                <div>
                    <span style="color: #666; font-size: 14px;">æ€»ä»»åŠ¡æ•°ï¼š</span>
                    <span style="font-size: 24px; font-weight: bold; color: #2c3e50;" id="totalTasks">0</span>
                </div>
                <div>
                    <span style="color: #666; font-size: 14px;">å¾…å®Œæˆï¼š</span>
                    <span style="font-size: 24px; font-weight: bold; color: #e74c3c;" id="pendingTasks">0</span>
                </div>
                <div>
                    <span style="color: #666; font-size: 14px;">ä»Šæ—¥åˆ°æœŸï¼š</span>
                    <span style="font-size: 24px; font-weight: bold; color: #f39c12;" id="dueToday">0</span>
                </div>
                <div>
                    <span style="color: #666; font-size: 14px;">å·²å®Œæˆï¼š</span>
                    <span style="font-size: 24px; font-weight: bold; color: #27ae60;" id="completedTasks">0</span>
                </div>
            </div>
        </div>
        
        <!-- ä»»åŠ¡åˆ†ç±»è§†å›¾ -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
            <div>
                <h3 style="color: #2c3e50; margin-bottom: 15px;">ä»Šæ—¥ä»»åŠ¡</h3>
                <div id="todayTasks">
                    <!-- åŠ¨æ€åŠ è½½ä»Šæ—¥ä»»åŠ¡ -->
                </div>
            </div>
            
            <div>
                <h3 style="color: #2c3e50; margin-bottom: 15px;">æœ¬å‘¨ä»»åŠ¡</h3>
                <div id="weekTasks">
                    <!-- åŠ¨æ€åŠ è½½æœ¬å‘¨ä»»åŠ¡ -->
                </div>
            </div>
            
            <div>
                <h3 style="color: #2c3e50; margin-bottom: 15px;">æŒ‰ä¼˜å…ˆçº§</h3>
                <div id="priorityTasks">
                    <!-- åŠ¨æ€åŠ è½½æŒ‰ä¼˜å…ˆçº§ä»»åŠ¡ -->
                </div>
            </div>
        </div>
        
        <!-- æ—¥å†è§†å›¾ -->
        <div style="margin-top: 30px;">
            <h3 style="color: #2c3e50; margin-bottom: 15px;">ä»»åŠ¡æ—¥å†</h3>
            <div id="taskCalendar">
                <!-- åŠ¨æ€åŠ è½½æ—¥å† -->
            </div>
        </div>
        
        <!-- å·²å®Œæˆä»»åŠ¡ -->
        <div style="margin-top: 30px;">
            <h3 style="color: #2c3e50; margin-bottom: 15px;">æœ€è¿‘å®Œæˆçš„ä»»åŠ¡</h3>
            <div id="completedTasksList">
                <!-- åŠ¨æ€åŠ è½½å·²å®Œæˆä»»åŠ¡ -->
            </div>
        </div>
    </div>
    
    <script>
        // ä»»åŠ¡æ•°æ®ç®¡ç†
        class TaskManager {
            constructor() {
                this.storageKey = 'junshi_crm_tasks';
                this.initializeSampleData();
            }
            
            initializeSampleData() {
                const existingData = localStorage.getItem(this.storageKey);
                if (!existingData) {
                    const today = new Date();
                    const tomorrow = new Date(today);
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    const nextWeek = new Date(today);
                    nextWeek.setDate(nextWeek.getDate() + 7);
                    
                    const sampleTasks = [
                        {
                            id: 1,
                            title: 'è·Ÿè¿›å¤§è¿æŸå›½ä¼é¡¹ç›®éœ€æ±‚',
                            description: 'ç”µè¯æ²Ÿé€šç»„ç»‡æ¶æ„ä¼˜åŒ–è¯¦ç»†éœ€æ±‚',
                            priority: 'high',
                            status: 'pending',
                            dueDate: today.toISOString().split('T')[0],
                            assignee: 'å¼ ç»ç†',
                            customerId: 1,
                            customerName: 'å¤§è¿æŸå›½ä¼',
                            createdAt: '2026-02-18T10:30:00Z',
                            completedAt: null
                        },
                        {
                            id: 2,
                            title: 'å‡†å¤‡åˆ¶é€ ä¼ä¸šæµç¨‹ä¼˜åŒ–æ–¹æ¡ˆ',
                            description: 'åˆ¶å®šè¯¦ç»†çš„æµç¨‹æ”¹è¿›å»ºè®®ä¹¦',
                            priority: 'medium',
                            status: 'pending',
                            dueDate: tomorrow.toISOString().split('T')[0],
                            assignee: 'æé¡¾é—®',
                            customerId: 2,
                            customerName: 'æŸåˆ¶é€ ä¼ä¸š',
                            createdAt: '2026-02-19T14:20:00Z',
                            completedAt: null
                        },
                        {
                            id: 3,
                            title: 'ç§‘æŠ€å…¬å¸æ•°å­—åŒ–è½¬å‹æ–¹æ¡ˆæ¼”ç¤º',
                            description: 'å‡†å¤‡PPTå¹¶è¿›è¡Œæ–¹æ¡ˆæ¼”ç¤º',
                            priority: 'urgent',
                            status: 'pending',
                            dueDate: nextWeek.toISOString().split('T')[0],
                            assignee: 'ç‹æ€»ç›‘',
                            customerId: 3,
                            customerName: 'ç§‘æŠ€å…¬å¸A',
                            createdAt: '2026-02-20T09:15:00Z',
                            completedAt: null
                        },
                        {
                            id: 4,
                            title: 'å®¢æˆ·æ»¡æ„åº¦å›è®¿',
                            description: 'ç”µè¯å›è®¿ä¸Šæœˆç­¾çº¦å®¢æˆ·',
                            priority: 'low',
                            status: 'completed',
                            dueDate: '2026-02-15',
                            assignee: 'å®¢æœéƒ¨',
                            customerId: null,
                            customerName: 'å¤šä¸ªå®¢æˆ·',
                            createdAt: '2026-02-10T11:30:00Z',
                            completedAt: '2026-02-15T16:45:00Z'
                        }
                    ];
                    localStorage.setItem(this.storageKey, JSON.stringify(sampleTasks));
                }
            }
            
            getTasks() {
                const data = localStorage.getItem(this.storageKey);
                return data ? JSON.parse(data) : [];
            }
            
            saveTasks(tasks) {
                localStorage.setItem(this.storageKey, JSON.stringify(tasks));
            }
            
            addTask(task) {
                const tasks = this.getTasks();
                task.id = Date.now();
                task.status = 'pending';
                task.createdAt = new Date().toISOString();
                task.completedAt = null;
                tasks.push(task);
                this.saveTasks(tasks);
                return task;
            }
            
            updateTaskStatus(id, status) {
                const tasks = this.getTasks();
                const index = tasks.findIndex(t => t.id === id);
                if (index !== -1) {
                    tasks[index].status = status;
                    if (status === 'completed') {
                        tasks[index].completedAt = new Date().toISOString();
                    }
                    this.saveTasks(tasks);
                    return true;
                }
                return false;
            }
            
            deleteTask(id) {
                const tasks = this.getTasks();
                const filtered = tasks.filter(t => t.id !== id);
                this.saveTasks(filtered);
                return filtered.length !== tasks.length;
            }
            
            getPriorityColor(priority) {
                switch(priority) {
                    case 'urgent': return '#e74c3c';
                    case 'high': return '#e67e22';
                    case 'medium': return '#f39c12';
                    case 'low': return '#27ae60';
                    default: return '#95a5a6';
                }
            }
            
            getPriorityText(priority) {
                switch(priority) {
                    case 'urgent': return 'ç´§æ€¥';
                    case 'high': return 'é«˜';
                    case 'medium': return 'ä¸­';
                    case 'low': return 'ä½';
                    default: return 'æ™®é€š';
                }
            }
        }
        
        const taskManager = new TaskManager();
        
        // æ¸²æŸ“ä»»åŠ¡ç®¡ç†
        function renderTaskManagement() {
            const tasks = taskManager.getTasks();
            const today = new Date().toISOString().split('T')[0];
            
            // æ›´æ–°ç»Ÿè®¡æ•°æ®
            updateStats(tasks, today);
            
            // æ¸²æŸ“ä»Šæ—¥ä»»åŠ¡
            renderTodayTasks(tasks, today);
            
            // æ¸²æŸ“æœ¬å‘¨ä»»åŠ¡
            renderWeekTasks(tasks);
            
            // æ¸²æŸ“æŒ‰ä¼˜å…ˆçº§ä»»åŠ¡
            renderPriorityTasks(tasks);
            
            // æ¸²æŸ“ä»»åŠ¡æ—¥å†
            renderTaskCalendar(tasks);
            
            // æ¸²æŸ“å·²å®Œæˆä»»åŠ¡
            renderCompletedTasks(tasks);
        }
        
        function updateStats(tasks, today) {
            const total = tasks.length;
            const pending = tasks.filter(t => t.status === 'pending').length;
            const dueToday = tasks.filter(t => t.dueDate === today && t.status === 'pending').length;
            const completed = tasks.filter(t => t.status === 'completed').length;
            
            document.getElementById('totalTasks').textContent = total;
            document.getElementById('pendingTasks').textContent = pending;
            document.getElementById('dueToday').textContent = dueToday;
            document.getElementById('completedTasks').textContent = completed;
        }
        
        function renderTodayTasks(tasks, today) {
            const todayTasks = tasks.filter(t => t.dueDate === today);
            const container = document.getElementById('todayTasks');
            
            if (todayTasks.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: #666;">ä»Šæ—¥æ— ä»»åŠ¡å®‰æ’</div>';
                return;
            }
            
            container.innerHTML = todayTasks.map(task => {
                const priorityColor = taskManager.getPriorityColor(task.priority);
                const priorityText = taskManager.getPriorityText(task.priority);
                const statusClass = task.status === 'completed' ? 'completed' : task.priority;
                
                return `
                    <div class="task-card ${statusClass}">
                        <div class="task-header">
                            <div class="task-title">${task.title}</div>
                            <span class="task-priority priority-${task.priority}">${priorityText}</span>
                        </div>
                        <div style="color: #666; font-size: 14px;">${task.description}</div>
                        <div class="task-meta">
                            <span>è´Ÿè´£äººï¼š${task.assignee || 'æœªåˆ†é…'}</span>
                            <span>å®¢æˆ·ï¼š${task.customerName || '--'}</span>
                            <span>çŠ¶æ€ï¼š${task.status === 'completed' ? 'å·²å®Œæˆ' : 'è¿›è¡Œä¸­'}</span>
                        </div>
                        <div style="display: flex; gap: 5px; margin-top: 10px;">
                            ${task.status !== 'completed' ? 
                                `<button class="btn" onclick="completeTask(${task.id})" style="padding: 4px 8px; font-size: 12px; background: #27ae60;">å®Œæˆ</button>` 
                                : ''
                            }
                            <button class="btn" onclick="viewTask(${task.id})" style="padding: 4px 8px; font-size: 12px; background: #ecf0f1; color: #2c3e50;">è¯¦æƒ…</button>
                            <button class="btn" onclick="deleteTask(${task.id})" style="padding: 4px 8px; font-size: 12px; background: #e74c3c;">åˆ é™¤</button>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderWeekTasks(tasks) {
            const today = new Date();
            const weekEnd = new Date(today);
            weekEnd.setDate(weekEnd.getDate() + 7);
            
            const weekTasks = tasks.filter(t => {
                const dueDate = new Date(t.dueDate);
                return dueDate >= today && dueDate <= weekEnd && t.status !== 'completed';
            });
            
            const container = document.getElementById('weekTasks');
            
            if (weekTasks.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: #666;">æœ¬å‘¨æ— å¾…åŠä»»åŠ¡</div>';
                return;
            }
            
            container.innerHTML = weekTasks.map(task => {
                const dueDate = new Date(task.dueDate);
                const daysDiff = Math.ceil((dueDate - today) / (1000 * 60 * 60 * 24));
                const daysText = daysDiff === 0 ? 'ä»Šå¤©' : `${daysDiff}å¤©å`;
                
                return `
                    <div class="task-card ${task.priority}">
                        <div class="task-header">
                            <div class="task-title">${task.title}</div>
                            <span style="color: #666; font-size: 12px;">${daysText}</span>
                        </div>
                        <div style="color: #666; font-size: 14px;">${task.description}</div>
                        <div class="task-meta">
                            <span>æˆªæ­¢ï¼š${task.dueDate}</span>
                            <span>è´Ÿè´£äººï¼š${task.assignee}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderPriorityTasks(tasks) {
            const pendingTasks = tasks.filter(t => t.status !== 'completed');
            const priorityOrder = ['urgent', 'high', 'medium', 'low'];
            const container = document.getElementById('priorityTasks');
            
            if (pendingTasks.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: #666;">æ— å¾…åŠä»»åŠ¡</div>';
                return;
            }
            
            container.innerHTML = priorityOrder.map(priority => {
                const priorityTasks = pendingTasks.filter(t => t.priority === priority);
                if (priorityTasks.length === 0) return '';
                
                const priorityText = taskManager.getPriorityText(priority);
                const priorityColor = taskManager.getPriorityColor(priority);
                
                return `
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; align-items: center; margin-bottom: 10px;">
                            <div style="width: 12px; height: 12px; background: ${priorityColor}; border-radius: 50%; margin-right: 8px;"></div>
                            <span style="font-weight: 500; color: #2c3e50;">${priorityText}ä¼˜å…ˆçº§ (${priorityTasks.length})</span>
                        </div>
                        ${priorityTasks.map(task => `
                            <div style="background: #f8f9fa; border-radius: 6px; padding: 8px; margin-bottom: 5px; font-size: 14px;">
                                <div style="display: flex; justify-content: space-between;">
                                    <span>${task.title}</span>
                                    <span style="color: #666;">${task.dueDate}</span>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }).join('');
        }
        
        function renderTaskCalendar(tasks) {
            const today = new Date();
            const calendarContainer = document.getElementById('taskCalendar');
            const pendingTasks = tasks.filter(t => t.status !== 'completed');
            
            // åˆ›å»ºæ¥ä¸‹æ¥7å¤©çš„æ—¥å†
            let calendarHTML = '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">';
            
            for (let i = 0; i < 7; i++) {
                const date = new Date(today);
                date.setDate(date.getDate() + i);
                const dateStr = date.toISOString().split('T')[0];
                const isToday = i === 0;
                
                const dayTasks = pendingTasks.filter(t => t.dueDate === dateStr);
                const dayName = date.toLocaleDateString('zh-CN', { weekday: 'short' });
                const dayNum = date.getDate();
                
                calendarHTML += `
                    <div class="calendar-day ${isToday ? 'today' : ''}">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div>
                                <div style="font-weight: 500; font-size: 16px;">${dayName}</div>
                                <div style="font-size: 24px; font-weight: bold; color: #2c3e50;">${dayNum}</div>
                            </div>
                            <span style="background: ${dayTasks.length > 0 ? '#e74c3c' : '#27ae60'}; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px;">
                                ${dayTasks.length}ä¸ªä»»åŠ¡
                            </span>
                        </div>
                        ${dayTasks.length > 0 ? 
                            dayTasks.map(task => `
                                <div style="font-size: 12px; color: #666; margin-bottom: 5px; padding: 4px; background: #f8f9fa; border-radius: 4px;">
                                    ${task.title}
                                </div>
                            `).join('') : 
                            '<div style="text-align: center; color: #999; font-size: 12px; padding: 10px;">æ— ä»»åŠ¡</div>'
                        }
                    </div>
                `;
            }
            
            calendarHTML += '</div>';
            calendarContainer.innerHTML = calendarHTML;
        }
        
        function renderCompletedTasks(tasks) {
            const completedTasks = tasks
                .filter(t => t.status === 'completed')
                .sort((a, b) => new Date(b.completedAt) - new Date(a.completedAt))
                .slice(0, 5);
            
            const container = document.getElementById('completedTasksList');
            
            if (completedTasks.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: #666;">æš‚æ— å·²å®Œæˆä»»åŠ¡</div>';
                return;
            }
            
            container.innerHTML = completedTasks.map(task => {
                const completedDate = new Date(task.completedAt);
                const formattedDate = `${completedDate.getMonth()+1}æœˆ${completedDate.getDate()}æ—¥ ${completedDate.getHours().toString().padStart(2, '0')}:${completedDate.getMinutes().toString().padStart(2, '0')}`;
                
                return `
                    <div class="task-card completed">
                        <div class="task-header">
                            <div class="task-title">${task.title}</div>
                            <span style="color: #27ae60; font-size: 12px;">å·²å®Œæˆ</span>
                        </div>
                        <div style="color: #666; font-size: 14px;">${task.description}</div>
                        <div class="task-meta">
                            <span>è´Ÿè´£äººï¼š${task.assignee}</span>
                            <span>å®Œæˆæ—¶é—´ï¼š${formattedDate}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function showAddTaskModal() {
            const title = prompt('è¯·è¾“å…¥ä»»åŠ¡æ ‡é¢˜ï¼š');
            if (!title) return;
            
            const task = {
                title: title,
                description: prompt('è¯·è¾“å…¥ä»»åŠ¡æè¿°ï¼š') || '',
                priority: prompt('ä¼˜å…ˆçº§ï¼ˆurgent/high/medium/lowï¼‰ï¼š', 'medium') || 'medium',
                dueDate: prompt('æˆªæ­¢æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰ï¼š', new Date().toISOString().split('T')[0]),
                assignee: prompt('è´Ÿè´£äººï¼š') || 'æœªåˆ†é…',
                customerName: prompt('å…³è”å®¢æˆ·ï¼ˆå¯é€‰ï¼‰ï¼š') || ''
            };
            
            if (!task.dueDate) return;
            
            taskManager.addTask(task);
            renderTaskManagement();
            alert('ä»»åŠ¡æ·»åŠ æˆåŠŸï¼');
        }
        
        function viewTask(id) {
            const tasks = taskManager.getTasks();
            const task = tasks.find(t => t.id === id);
            if (task) {
                const priorityText = taskManager.getPriorityText(task.priority);
                const statusText = task.status === 'completed' ? 'å·²å®Œæˆ' : 'è¿›è¡Œä¸­';
                
                alert(`ğŸ“‹ ä»»åŠ¡è¯¦æƒ…

ğŸ·ï¸ ä»»åŠ¡æ ‡é¢˜ï¼š${task.title}
ğŸ“ ä»»åŠ¡æè¿°ï¼š${task.description || 'æ— '}
ğŸ¯ ä¼˜å…ˆçº§ï¼š${priorityText}
ğŸ“… æˆªæ­¢æ—¥æœŸï¼š${task.dueDate}
ğŸ‘¤ è´Ÿè´£äººï¼š${task.assignee || 'æœªåˆ†é…'}
ğŸ¢ å…³è”å®¢æˆ·ï¼š${task.customerName || '--'}
ğŸ“Š çŠ¶æ€ï¼š${statusText}
${task.completedAt ? `âœ… å®Œæˆæ—¶é—´ï¼š${new Date(task.completedAt).toLocaleString('zh-CN')}` : ''}`);
            }
        }
        
        function completeTask(id) {
            if (taskManager.updateTaskStatus(id, 'completed')) {
                renderTaskManagement();
                alert('ä»»åŠ¡æ ‡è®°ä¸ºå·²å®Œæˆï¼');
            }
        }
        
        function deleteTask(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä»»åŠ¡å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚')) {
                if (taskManager.deleteTask(id)) {
                    renderTaskManagement();
                    alert('ä»»åŠ¡åˆ é™¤æˆåŠŸï¼');
                }
            }
        }
        
        // é¡µé¢åŠ è½½
        document.addEventListener('DOMContentLoaded', renderTaskManagement);
    </script>
</body>
</html>